"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[754],{78593:function(x,T,n){n.d(T,{$c:function(){return A},ee:function(){return f},s8:function(){return y},tD:function(){return C}});var C={GET:"blue",POST:"red",PUT:"green",DELETE:"orange"},s={0:{text:"\u5BA1\u6838\u4E2D",status:"default"},2:{text:"\u5DF2\u4E0B\u7EBF",status:"error"},1:{text:"\u5DF2\u4E0A\u7EBF",status:"processing"}},A={0:"\u5BA1\u6838\u4E2D",1:"\u5DF2\u4E0A\u7EBF",2:"\u5DF2\u4E0B\u7EBF"},_={VIP:"red",RECHARGE:"blue"},y={SUCCESS:"\u652F\u4ED8\u6210\u529F",NOTPAY:"\u672A\u652F\u4ED8",CLOSED:"\u5DF2\u53D6\u6D88"},f={WX:"blue",ALIPAY:"green"},h={RECHARGEACTIVITY:"\u5145\u503C\u6D3B\u52A8",RECHARGE:"\u79EF\u5206\u5145\u503C",VIP:"VIP\u4F1A\u5458"}},68453:function(x,T,n){n.r(T);var C=n(15009),s=n.n(C),A=n(99289),_=n.n(A),y=n(5574),f=n.n(y),h=n(45618),b=n(67294),p=n(45360),S=n(57381),O=n(4393),U=n(86738),D=n(28036),m=n(26412),j=n(66309),B=n(40411),M=n(83062),F=n(74087),v=n(78593),Z=n(6084),I=n(15366),e=n(85893),i=function(P){var t=new Date(P),r=t.getFullYear(),L=("0"+(t.getMonth()+1)).slice(-2),W=("0"+t.getDate()).slice(-2),R=("0"+t.getHours()).slice(-2),K=("0"+t.getMinutes()).slice(-2),g=("0"+t.getSeconds()).slice(-2);return"".concat(r,"-").concat(L,"-").concat(W," ").concat(R,":").concat(K,":").concat(g)};T.default=function(){var o,P=(0,b.useState)(),t=f()(P,2),r=t[0],L=t[1],W=(0,b.useState)(!1),R=f()(W,2),K=R[0],g=R[1],w=(0,h.useParams)(),$=function(){var E=_()(s()().mark(function a(){var c;return s()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(w.id){d.next=3;break}return p.ZP.error("\u53C2\u6570\u4E0D\u5B58\u5728"),d.abrupt("return");case 3:return g(!0),d.next=6,(0,F.tF)({id:w.id});case 6:c=d.sent,c.data&&c.code===0&&L(c.data),g(!1);case 8:case"end":return d.stop()}},a)}));return function(){return E.apply(this,arguments)}}();(0,b.useEffect)(function(){$()},[]);var N=function(){var E=_()(s()().mark(function a(c){var l,d;return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(l=p.ZP.loading("\u6B63\u5728\u53D6\u6D88\u8BA2\u5355"),c){u.next=3;break}return u.abrupt("return",!0);case 3:return u.prev=3,u.next=6,(0,F.w1)({orderNo:c.orderNo});case 6:return d=u.sent,l(),d.data&&(p.ZP.success("\u53D6\u6D88\u8BA2\u5355\u6210\u529F"),setTimeout(function(){location.href="/order/list"},800)),u.abrupt("return",!0);case 12:return u.prev=12,u.t0=u.catch(3),l(),p.ZP.error("\u53D6\u6D88\u8BA2\u5355\u5931\u8D25",u.t0.message),u.abrupt("return",!1);case 17:case"end":return u.stop()}},a,null,[[3,12]])}));return function(c){return E.apply(this,arguments)}}(),G=function(){var E=_()(s()().mark(function a(c){var l,d;return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(l=p.ZP.loading("\u6B63\u5728\u5220\u9664\u8BA2\u5355"),c){u.next=3;break}return u.abrupt("return",!0);case 3:return u.prev=3,u.next=6,(0,F.ts)({id:c.id});case 6:return d=u.sent,l(),d.data&&(p.ZP.success("\u5220\u9664\u8BA2\u5355\u6210\u529F"),setTimeout(function(){location.href="/order/list"},800)),u.abrupt("return",!0);case 12:return u.prev=12,u.t0=u.catch(3),l(),p.ZP.error("\u5220\u9664\u8BA2\u5355\u5931\u8D25",u.t0.message),u.abrupt("return",!1);case 17:case"end":return u.stop()}},a,null,[[3,12]])}));return function(c){return E.apply(this,arguments)}}(),Y=function(){var E=_()(s()().mark(function a(){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,G(r);case 2:case"end":return l.stop()}},a)}));return function(){return E.apply(this,arguments)}}(),V=function(){var E=_()(s()().mark(function a(){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,N(r);case 2:case"end":return l.stop()}},a)}));return function(){return E.apply(this,arguments)}}(),H=function(a){if(a.payType==="WX"){if(!a.codeUrl){p.ZP.error("\u8BA2\u5355\u83B7\u53D6\u5931\u8D25");return}var c=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);c?window.location.href=a.codeUrl:(p.ZP.loading("\u6B63\u5728\u524D\u5F80\u6536\u94F6\u53F0,\u8BF7\u7A0D\u540E.....",.6),setTimeout(function(){var l,d;h.history.push("/order/pay/".concat(a.id,"?codeUrl=").concat(a==null||(l=a.codeUrl)===null||l===void 0?void 0:l.trim(),"&payType=").concat(a==null||(d=a.payType)===null||d===void 0?void 0:d.trim()))},800))}else p.ZP.loading("\u6B63\u5728\u524D\u5F80\u6536\u94F6\u53F0,\u8BF7\u7A0D\u540E...."),setTimeout(function(){if(!a.formData){p.ZP.error("\u8BA2\u5355\u83B7\u53D6\u5931\u8D25");return}document.write(a.formData),g(!1)},2e3)};return(0,e.jsxs)(S.Z,{spinning:K,children:[(0,e.jsx)(O.Z,{title:"\u8BA2\u5355\u4FE1\u606F",extra:(r==null?void 0:r.status)!=="NOTPAY"&&(0,e.jsx)(U.Z,{title:"\u8BF7\u786E\u8BA4\u662F\u5426\u5220\u9664\u8BE5\u8BA2\u5355!",onConfirm:Y,okText:"Yes",cancelText:"No",children:(0,e.jsx)(D.ZP,{danger:!0,style:{color:"red"},onClick:function(){G(r)},children:"\u5220\u9664\u8BA2\u5355"},"SUCCESS")},"Delete"),children:(0,e.jsxs)(m.Z,{children:[(0,e.jsx)(m.Z.Item,{label:"\u8BA2\u5355\u540D\u79F0",children:r==null?void 0:r.orderName},"orderName"),(0,e.jsx)(m.Z.Item,{label:"\u8BA2\u5355\u91D1\u989D (\u5143)",children:r==null?void 0:r.total},"total"),(0,e.jsx)(m.Z.Item,{label:"\u589E\u52A0\u79EF\u5206\u6570\u91CF (\u4E2A)",children:r==null?void 0:r.addPoints},"addPoints"),(0,e.jsx)(m.Z.Item,{label:"\u652F\u4ED8\u7C7B\u578B",children:(0,e.jsx)(j.Z,{color:v.ee[(o=r==null?void 0:r.payType)!==null&&o!==void 0?o:"default"],children:r==null?void 0:r.payType})},"payType"),(0,e.jsxs)(m.Z.Item,{label:"\u8BA2\u5355\u72B6\u6001",children:[r&&r.status==="SUCCESS"?(0,e.jsx)(B.Z,{status:"success",text:v.s8[r.status]}):null,r&&r.status==="CLOSED"?(0,e.jsx)(B.Z,{status:"default",text:v.s8[r.status]}):null,r&&r.status==="NOTPAY"?(0,e.jsx)(B.Z,{status:"error",text:v.s8[r.status]}):null]},"status"),(0,e.jsxs)(m.Z.Item,{label:"\u5546\u54C1\u7C7B\u522B",children:[r&&r.productType==="RECHARGEACTIVITY"&&"\u5145\u503C\u6D3B\u52A8",r&&r.productType==="RECHARGE"&&"\u79EF\u5206\u5145\u503C",r&&r.productType==="VIP"&&"VIP\u4F1A\u5458"]},"productType"),(0,e.jsx)(m.Z.Item,{label:"\u8FC7\u671F\u65F6\u95F4",children:i(r==null?void 0:r.expirationTime)},"expirationTime"),(0,e.jsx)(m.Z.Item,{label:"\u521B\u5EFA\u65F6\u95F4",children:i(r==null?void 0:r.createTime)},"createTime"),(0,e.jsx)(m.Z.Item,{label:"\u5546\u54C1\u63CF\u8FF0",children:r==null?void 0:r.description},"description"),(0,e.jsx)(m.Z.Item,{label:"\u8BA2\u5355\u53F7",children:r==null?void 0:r.orderNo},"orderNo")]})}),(r==null?void 0:r.status)==="NOTPAY"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("br",{}),(0,e.jsx)(O.Z,{children:(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,e.jsx)(D.ZP,{style:{marginRight:10,marginLeft:10,height:40},block:!0,onClick:function(){H(r)},children:"\u524D\u5F80\u652F\u4ED8"}),(0,e.jsx)(U.Z,{title:"\u8BF7\u786E\u8BA4\u662F\u5426\u53D6\u6D88\u8BE5\u8BA2\u5355!",onConfirm:V,okText:"Yes",cancelText:"No",children:(0,e.jsx)(D.ZP,{block:!0,style:{height:40},children:"\u53D6\u6D88\u8BA2\u5355"})},"Closed")]})})]}),(0,e.jsx)(Z.default,{style:{marginTop:20},layout:"center",children:(0,e.jsxs)("span",{children:[" \u672C\u5546\u54C1\u4E3A\u865A\u62DF\u5185\u5BB9\uFF0C\u8D2D\u4E70\u540E\u4E0D\u652F\u6301",(0,e.jsx)("strong",{style:{color:"red"},children:"\u9000\u6362"}),"\u3002\u786E\u8BA4\u652F\u4ED8\u8868\u793A\u60A8\u5DF2\u9605\u8BFB\u5E76\u63A5\u53D7",(0,e.jsx)("a",{target:"_blank",href:"https://gitee.com/qimu6/statement/blob/master/%E6%9F%92%E6%9C%A8%E6%8E%A5%E5%8F%A3%E7%94%A8%E6%88%B7%E5%8D%8F%E8%AE%AE.md#%E6%9F%92%E6%9C%A8%E6%8E%A5%E5%8F%A3%E7%94%A8%E6%88%B7%E5%8D%8F%E8%AE%AE",rel:"noreferrer",children:" \u7528\u6237\u534F\u8BAE "}),"\u5982\u4ED8\u6B3E\u6210\u529F\u540E10\u5206\u949F\u540E\u672A\u5230\u8D26\uFF0C\u8BF7\u8054\u7CFB\u7AD9\u957F\u5FAE\u4FE1\uFF1A",(0,e.jsx)(M.Z,{placement:"bottom",title:(0,e.jsx)("img",{src:I,alt:"\u5FAE\u4FE1 code_nav",width:"120"}),children:(0,e.jsx)("a",{children:"aqimu66"})})]})})]})}},74087:function(x,T,n){n.d(T,{VZ:function(){return S},Yx:function(){return B},iZ:function(){return Z},tF:function(){return m},ts:function(){return U},w1:function(){return b}});var C=n(15009),s=n.n(C),A=n(97857),_=n.n(A),y=n(99289),f=n.n(y),h=n(45618);function b(e,i){return p.apply(this,arguments)}function p(){return p=f()(s()().mark(function e(i,o){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/order/closed",_()({method:"POST",params:_()({},i)},o||{})));case 1:case"end":return t.stop()}},e)})),p.apply(this,arguments)}function S(e,i){return O.apply(this,arguments)}function O(){return O=f()(s()().mark(function e(i,o){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/order/create",_()({method:"POST",headers:{"Content-Type":"application/json"},data:i},o||{})));case 1:case"end":return t.stop()}},e)})),O.apply(this,arguments)}function U(e,i){return D.apply(this,arguments)}function D(){return D=f()(s()().mark(function e(i,o){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/order/delete",_()({method:"POST",params:_()({},i)},o||{})));case 1:case"end":return t.stop()}},e)})),D.apply(this,arguments)}function m(e,i){return j.apply(this,arguments)}function j(){return j=f()(s()().mark(function e(i,o){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/order/get",_()({method:"GET",params:_()({},i)},o||{})));case 1:case"end":return t.stop()}},e)})),j.apply(this,arguments)}function B(e,i){return M.apply(this,arguments)}function M(){return M=f()(s()().mark(function e(i,o){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/order/list/page",_()({method:"GET",params:_()({},i)},o||{})));case 1:case"end":return t.stop()}},e)})),M.apply(this,arguments)}function F(e,i){return v.apply(this,arguments)}function v(){return v=_asyncToGenerator(_regeneratorRuntime().mark(function e(i,o){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/order/notify/order",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:i},o||{})));case 1:case"end":return t.stop()}},e)})),v.apply(this,arguments)}function Z(e,i){return I.apply(this,arguments)}function I(){return I=f()(s()().mark(function e(i,o){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/order/query/status",_()({method:"POST",headers:{"Content-Type":"application/json"},data:i},o||{})));case 1:case"end":return t.stop()}},e)})),I.apply(this,arguments)}}}]);
