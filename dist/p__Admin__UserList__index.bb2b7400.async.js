"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[568],{28816:function(H,w,n){var O=n(19632),D=n.n(O),Z=n(15009),i=n.n(Z),U=n(99289),I=n.n(U),x=n(77646),m=n(28036),k=n(67294),v=n(85893),F=function(h){var d=(0,k.useRef)(),S=h.width,B=h.open,K=h.onOpenChange,b=h.title,P=h.value,j=h.onSubmit,L=h.columns,_=h.size;return(0,k.useEffect)(function(){var E=P==null?void 0:P.id;if(!E){var p;(p=d.current)===null||p===void 0||p.resetFields()}if(d&&E){var c;(c=d.current)===null||c===void 0||c.setFieldsValue(P)}},[P]),(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(x.Z,{width:S,title:b,size:_,open:B(),onOpenChange:K,formRef:d,autoFocusFirstInput:!0,layoutType:"ModalForm",onFinish:function(){var E=I()(i()().mark(function p(c){return i()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:j==null||j(c);case 1:case"end":return y.stop()}},p)}));return function(p){return E.apply(this,arguments)}}(),grid:!0,rowProps:{gutter:[16,16]},colProps:{span:12},submitter:{render:function(p,c){return[].concat(D()(c),[(0,v.jsx)(m.ZP,{onClick:function(){var y;(y=d.current)===null||y===void 0||y.resetFields()},children:"\u91CD\u7F6E"},"extra-reset")])}},columns:L})})};w.Z=F},79437:function(H,w,n){n.r(w),n.d(w,{default:function(){return y}});var O=n(19632),D=n.n(O),Z=n(15009),i=n.n(Z),U=n(97857),I=n.n(U),x=n(99289),m=n.n(x),k=n(5574),v=n.n(k),F=n(51042),$=n(44945),h=n(45618),d=n(45360),S=n(86738),B=n(4393),K=n(28036),b=n(67294),P=n(28816),j=[{title:"id",dataIndex:"id",valueType:"index",hideInTable:!0,key:"id"},{title:"\u540D\u79F0",dataIndex:"userName",key:"userName",width:"lg",colProps:{span:24}},{title:"\u7528\u6237\u8D26\u53F7",dataIndex:"userAccount",key:"userAccount",formItemProps:{rules:[function(){return{validator:function(g,f){return!f||f.length<0?Promise.reject(new Error("\u7528\u6237\u8D26\u53F7\u4E3A\u5FC5\u586B\u9879")):Promise.resolve()},required:!0}}]},width:"lg",colProps:{span:24}},{title:"\u5BC6\u7801",key:"userPassword",dataIndex:"userPassword",width:"lg",colProps:{span:24},formItemProps:{rules:[function(){return{validator:function(g,f){return!f||f.length<0?Promise.reject(new Error("\u7528\u6237\u5BC6\u7801\u4E3A\u5FC5\u586B\u9879")):Promise.resolve()},required:!0}}]}},{title:"\u6027\u522B",dataIndex:"gender",key:"gender",valueType:"radio",valueEnum:{0:{text:"\u7537"},1:{text:"\u5973"}},width:"lg",colProps:{span:24}},{title:"\u89D2\u8272/\u6743\u9650",dataIndex:"userRole",valueType:"radio",key:"userRole",valueEnum:{admin:{text:"\u7BA1\u7406\u5458"},user:{text:"\u666E\u901A\u7528\u6237"}}},{title:"\u4F59\u989D",key:"balance",dataIndex:"balance",width:"lg",colProps:{span:24},formItemProps:{rules:[function(){return{validator:function(g,f){return f&&f<0?Promise.reject(new Error("\u4F59\u989D\u4E0D\u80FD\u4E3A\u8D1F\u6570")):Promise.resolve()}}}]}}],L=[{title:"id",dataIndex:"id",valueType:"index",hideInTable:!0,key:"id"},{title:"\u540D\u79F0",dataIndex:"userName",key:"userName",width:"lg",colProps:{span:24}},{title:"\u6027\u522B",dataIndex:"gender",key:"gender",valueType:"radio",valueEnum:{0:{text:"\u7537"},1:{text:"\u5973"}},width:"lg",colProps:{span:24}},{title:"\u89D2\u8272/\u6743\u9650",dataIndex:"userRole",valueType:"radio",key:"userRole",valueEnum:{admin:{text:"\u7BA1\u7406\u5458"},user:{text:"\u666E\u901A\u7528\u6237"}}},{title:"\u4F59\u989D",key:"balance",dataIndex:"balance",width:"lg",colProps:{span:24},formItemProps:{rules:[function(){return{validator:function(g,f){return f&&f<0?Promise.reject(new Error("\u4F59\u989D\u4E0D\u80FD\u4E3A\u8D1F\u6570")):Promise.resolve()}}}]}},{title:"\u5BC6\u7801",key:"userPassword",dataIndex:"userPassword",width:"lg",colProps:{span:24},formItemProps:{rules:[function(){return{validator:function(g,f){return f&&f.length<0?Promise.reject(new Error("\u7528\u6237\u5BC6\u7801\u4E3A\u5FC5\u586B\u9879")):Promise.resolve()}}}]}}],_=[{dataIndex:"id",valueType:"index",hideInTable:!0,key:"id"},{title:"\u6635\u79F0",dataIndex:"userName",copyable:!0,ellipsis:!0,key:"userName"},{title:"\u8D26\u53F7",dataIndex:"userAccount",valueType:"text",copyable:!0,key:"userAccount"},{title:"\u5934\u50CF",dataIndex:"userAvatar",valueType:"image",key:"userAvatar",search:!1},{title:"\u90AE\u7BB1",dataIndex:"email",valueType:"text",copyable:!0,key:"email"},{title:"\u79EF\u5206",dataIndex:"balance",valueType:"text",copyable:!0,key:"balance",sorter:function(g,f){return g.balance-f.balance}},{title:"\u9080\u8BF7\u7801",dataIndex:"invitationCode",valueType:"text",copyable:!0,key:"invitationCode",search:!1},{title:"SecretKey",dataIndex:"secretKey",valueType:"textarea",copyable:!0,ellipsis:!0,key:"secretKey",search:!1},{title:"AccessKey",dataIndex:"accessKey",valueType:"textarea",copyable:!0,ellipsis:!0,key:"accessKey",search:!1},{title:"\u89D2\u8272/\u6743\u9650",dataIndex:"userRole",key:"userRole",filters:!0,onFilter:!0,valueEnum:{admin:{text:"\u7BA1\u7406\u5458",status:"success"},user:{text:"\u666E\u901A\u7528\u6237",status:"default"}}},{title:"\u6027\u522B",dataIndex:"gender",filters:!0,onFilter:!0,key:"gender",valueEnum:{0:{text:"\u7537"},1:{text:"\u5973"}}},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateTime",valueType:"dateTime",key:"updateTime",search:!1},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",valueType:"dateTime",key:"createTime",search:!1}],E=_,p=n(49741),c=n(85893),W=function(){var g=(0,b.useState)(!1),f=v()(g,2),J=f[0],A=f[1],Q=(0,b.useState)(!1),N=v()(Q,2),X=N[0],M=N[1],q=(0,b.useState)(!1),z=v()(q,2),ee=z[0],G=z[1],C=(0,b.useRef)(),re=(0,b.useState)(),V=v()(re,2),R=V[0],Y=V[1],ae=function(){var l=m()(i()().mark(function s(u){var r,o;return i()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),t.prev=1,t.next=4,(0,p.xB)(I()({},u));case 4:if(o=t.sent,!(o.data&&o.code===0)){t.next=9;break}return r(),d.ZP.success("\u6DFB\u52A0\u6210\u529F"),t.abrupt("return",!0);case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(1),r(),d.ZP.error("\u6DFB\u52A0\u5931\u8D25! "+t.t0.message),t.abrupt("return",!1);case 16:case"end":return t.stop()}},s,null,[[1,11]])}));return function(u){return l.apply(this,arguments)}}(),ne=function(){var l=m()(i()().mark(function s(u){var r,o,a;return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.ZP.loading("\u89E3\u5C01\u4E2D"),u){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,(0,p.Sj)({id:u.id});case 6:return o=e.sent,r(),o.data&&(d.ZP.success("\u89E3\u5C01\u6210\u529F"),(a=C.current)===null||a===void 0||a.reload()),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(3),r(),d.ZP.error(e.t0.message),e.abrupt("return",!1);case 17:case"end":return e.stop()}},s,null,[[3,12]])}));return function(u){return l.apply(this,arguments)}}(),te=function(){var l=m()(i()().mark(function s(u){var r,o,a;return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.ZP.loading("\u5C01\u53F7\u4E2D"),u){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,(0,p.CG)({id:u.id});case 6:return o=e.sent,r(),o.data&&(d.ZP.success("\u5C01\u53F7\u6210\u529F"),(a=C.current)===null||a===void 0||a.reload()),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(3),r(),d.ZP.error(e.t0.message),e.abrupt("return",!1);case 17:case"end":return e.stop()}},s,null,[[3,12]])}));return function(u){return l.apply(this,arguments)}}(),ue=function(){var l=m()(i()().mark(function s(u){var r,o;return i()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.ZP.loading("\u4FEE\u6539\u4E2D"),t.prev=1,t.next=4,(0,p.Zn)(I()({id:R==null?void 0:R.id},u));case 4:if(o=t.sent,!(o.data&&o.code===0)){t.next=9;break}return r(),d.ZP.success("\u4FEE\u6539\u6210\u529F"),t.abrupt("return",!0);case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(1),r(),d.ZP.error("\u4FEE\u6539\u5931\u8D25"+t.t0.message),t.abrupt("return",!1);case 16:case"end":return t.stop()}},s,null,[[1,11]])}));return function(u){return l.apply(this,arguments)}}(),se=function(){var l=m()(i()().mark(function s(u){var r,o,a;return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.ZP.loading("\u6B63\u5728\u5220\u9664"),u){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,(0,p.TW)({id:u.id});case 6:return o=e.sent,r(),o.data&&(d.ZP.success("\u5220\u9664\u6210\u529F"),(a=C.current)===null||a===void 0||a.reload()),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(3),r(),d.ZP.error("\u5220\u9664\u5931\u8D25",e.t0.message),e.abrupt("return",!1);case 17:case"end":return e.stop()}},s,null,[[3,12]])}));return function(u){return l.apply(this,arguments)}}(),le=function(){var l=m()(i()().mark(function s(){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,se(R);case 2:case"end":return r.stop()}},s)}));return function(){return l.apply(this,arguments)}}(),ie=function(){d.ZP.success("\u53D6\u6D88\u6210\u529F")},de=[].concat(D()(E),[{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(s,u){return[(0,c.jsx)("a",{onClick:function(){Y(u),M(!0)},children:"\u4FEE\u6539"},"update"),u.status===1?(0,c.jsx)("a",{type:"text",onClick:function(){ne(u)},children:"\u89E3\u5C01"},"normal"):null,u.status===0?(0,c.jsx)("a",{style:{color:"red"},type:"text",onClick:function(){te(u)},children:"\u5C01\u53F7"},"ban"):null,(0,c.jsx)(S.Z,{title:"\u8BF7\u786E\u8BA4\u662F\u5426\u5220\u9664\u8BE5\u7528\u6237!",onConfirm:le,onCancel:ie,okText:"Yes",cancelText:"No",children:(0,c.jsx)("a",{style:{color:"red"},onClick:m()(i()().mark(function r(){return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:Y(u);case 1:case"end":return a.stop()}},r)})),children:"\u5220\u9664"},"Remove")},"Delete")]}}]);return(0,c.jsxs)(B.Z,{children:[(0,c.jsx)($.Z,{headerTitle:"\u7528\u6237\u7BA1\u7406",actionRef:C,rowKey:"user",loading:ee,search:{labelWidth:120},toolBarRender:function(){return[(0,c.jsxs)(K.ZP,{type:"primary",onClick:function(){A(!0)},children:[(0,c.jsx)(F.Z,{})," \u65B0\u5EFA"]},"primary")]},pagination:{defaultPageSize:10},request:function(){var l=m()(i()().mark(function s(u){var r;return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return G(!0),a.next=3,(0,p.Dq)(I()({},u));case 3:if(r=a.sent,!r.data){a.next=9;break}return G(!1),a.abrupt("return",{data:r.data.records||[],success:!0,total:r.data.total});case 9:return a.abrupt("return",{data:[],success:!1,total:0});case 10:case"end":return a.stop()}},s)}));return function(s){return l.apply(this,arguments)}}(),columns:de}),(0,c.jsx)(P.Z,{title:"\u6DFB\u52A0\u7528\u6237",value:{},open:function(){return J},onOpenChange:A,onSubmit:function(){var l=m()(i()().mark(function s(u){var r;return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ae(u);case 2:r=a.sent,r&&(A(!1),C.current&&C.current.reload());case 4:case"end":return a.stop()}},s)}));return function(s){return l.apply(this,arguments)}}(),onCancel:function(){return A(!1)},columns:j,width:"480px",size:"large"}),(0,c.jsx)(P.Z,{title:"\u4FEE\u6539\u7528\u6237\u4FE1\u606F",open:function(){return X},value:R,onOpenChange:M,onSubmit:function(){var l=m()(i()().mark(function s(u){var r;return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ue(u);case 2:r=a.sent,r&&(M(!1),C.current&&C.current.reload());case 4:case"end":return a.stop()}},s)}));return function(s){return l.apply(this,arguments)}}(),onCancel:function(){return M(!1)},columns:L,width:"480px",size:"large"})]})},y=W}}]);
